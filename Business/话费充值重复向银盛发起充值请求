1是支付系统回调，接到交易成功的回调，然后去银盛发起充值请求；

2是异步向交易系统查询，结果显示交易成功，然后向银盛发起充值请求。

这样的话，在银盛那边就会收到两笔充值请求，好在两笔的流水号重复，银盛拒绝掉了，如果银盛允许交易流水号重复，就会出大麻烦。

这种东西如何规避，用加锁的方式貌似也解决不了啊。难道不用异步回查？

今早跟王槐确认这个问题，王槐的意思呢，不可能回调一次成功，去银盛充值一次，更不可能业务方查询到一次支付成功，就去银盛发起充值一次，这样太滑稽了，
风险巨大。

所以现在改为这样处理，回调支付成功用旧状态1(支付中)作为update条件，update到3（已支付，充值中），如果update返回结果为1，才去发起银盛话费充值请求，
这样等于变相加了一个锁。
这样，在MQ里面查询支付状态，如果状态是支付成功的话，再去像上面那样用旧状态1作为update条件，如果返回1，才会去发起话费充值。这样既满足了处理回调失败的
场景，又不会重复发起充值请求。




