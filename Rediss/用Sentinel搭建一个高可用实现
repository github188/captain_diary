切勿用root账号开启服务，因为redis很容易对服务器进行进行root账号的提取，具体重现可以看利用Redis对linux服务器root提权。
所以现在需要设置一个专门的账号来启动，并且对相关目录进行授权。

1：添加一个用户
useradd redis

2：对配置文件里的相关目录进行授权
chown -R redis.redis /var/lib/redis_7021/
chown -R redis.redis /var/lib/sentinel_17021
chown -R redis.redis /var/log/redis/
chown -R redis.redis /var/run/redis/
chown -R redis.redis /etc/redis/

这里要说一说 linux用户user登录进来之后，默认进入到~目录，这个目录是什么呢，/home/user/ ,
那么root用户近来之后，也是~目录，这个是/root/,
当你执行useradd user1 ,的时候，linux默认的就给建了/home/user1/,   


第三台的哨兵进程是有用的
2.2、sentinel.conf配置如下


https://www.cnblogs.com/zhoujinyi/p/6430116.html  
Master（192.168.50.100）机器配置如下：

[java] view plain copy
port 26379  
#1表示在sentinel集群中只要有两个节点检测到redis主节点出故障就进行切换，单sentinel节点无效(自己测试发现的)  
#如果3s内mymaster无响应，则认为mymaster宕机了  
#如果10秒后,mysater仍没活过来，则启动failover  
sentinel monitor mymaster 192.168.50.100 6379 1  
sentinel down-after-milliseconds mymaster 3000  
sentinel failover-timeout mymaster 10000  
daemonize yes  
#指定工作目录  
dir "/home/redis/sentinel-work"  
protected-mode no  
logfile "/home/redis/sentinellog/sentinel.log"  
#redis主节点密码  
sentinel auth-pass mymaster 123456  
# Generated by CONFIG REWRITE  

















