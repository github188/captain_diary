突然想到这个问题
在捷顺营销注册送优惠券为了防止预算被击穿，在营销活动统计表对某次活动的统计记录中有个已使用金额，每有一个用户领用一个红包，该字段就会增加一笔
红包金额。利用这个字段的不可逆性和唯一性，所以我们将它作为版本字段来控制已使用预算的增加。多个线程都查询到了这个已使用金额，如果它再加上一个
红包金额没有超出预算，那就可以执行update了，在update的时候千万注意要where后面的条件，版本字段要等于之前查询到的版本字段值（这样入参要多加
一个成员变量来保存这个oldVersionValue），或者update set的这个字段值要比之前查询到的字段值大1（这个就跟百度上描述的乐观锁一样）。 
